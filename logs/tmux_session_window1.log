[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api/debug/token [32m200 [0m43.197 ms - 30[0m
[0mGET /api/debug/user [36m304 [0m27.330 ms - -[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api/csrf-token [32m200 [0m26.760 ms - 52[0m
[0mGET /api/debug/job [36m304 [0m140.460 ms - -[0m
{"level":"error","message":"Expected ',' or '}' after property value in JSON at position 255 (line 11 column 2)","route":"/api/auth/register","stack":"SyntaxError: Expected ',' or '}' after property value in JSON at position 255 (line 11 column 2)\n    at JSON.parse (<anonymous>)\n    at parse (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/body-parser/lib/types/json.js:89:19)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/body-parser/lib/read.js:121:18\n    at invokeCallback (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/raw-body/index.js:224:16)\n    at done (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2024-12-06T15:50:08.276Z"}
[0mPOST /api/auth/register [33m400 [0m37.271 ms - 136[0m
[0mPOST /api/auth/register [32m201 [0m252.342 ms - 492[0m
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T15:51:11.573Z"}
[0mPOST /api/auth/register [31m500 [0m131.400 ms - 193[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mPOST /api/auth/register [32m201 [0m255.779 ms - 464[0m
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T15:55:19.557Z"}
[0mPOST /api/auth/register [31m500 [0m141.244 ms - 193[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
/home/ubuntu/24-02-WSD-Assignment-03/src/app.js:58
pp.use("/api-docs", swaggerUi.serve, swaggerUi.setup(specs));
^

ReferenceError: pp is not defined
    at Object.<anonymous> [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/app.js:58:1[90m)[39m
[90m    at Module._compile (node:internal/modules/cjs/loader:1546:14)[39m
[90m    at Object..js (node:internal/modules/cjs/loader:1689:10)[39m
[90m    at Module.load (node:internal/modules/cjs/loader:1318:32)[39m
[90m    at Function._load (node:internal/modules/cjs/loader:1128:12)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:315:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:218:24)[39m
[90m    at Module.require (node:internal/modules/cjs/loader:1340:12)[39m
[90m    at require (node:internal/modules/helpers:141:16)[39m
    at Object.<anonymous> [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mbin/www:7:11[90m)[39m

Node.js v22.11.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[B^[[B^[[B[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Error Object Error: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.
    at ValidationError.inspect [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/error/validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:809:19)[39m
[90m    at inspect (node:internal/util/inspect:368:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2307:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2169:10)[39m
[90m    at console.value (node:internal/console/constructor:331:14)[39m
[90m    at console.log (node:internal/console/constructor:376:61)[39m
    at errorHandler [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/middlewares/errorHandler.js:17:11[90m)[39m
    at Layer.handle_error [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/layer.js:71:5[90m)[39m
    at trim_prefix [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/index.js:315:13[90m)[39m {
  errors: {
    [32m'profile.phoneNumber'[39m: ValidatorError: Path `profile.phoneNumber` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.phoneNumber'[39m,
      value: [32m''[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    },
    [32m'profile.fullName'[39m: ValidatorError: Path `profile.fullName` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.fullName'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'User validation failed'[39m
}
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T16:05:54.077Z"}
[0mPOST /api/auth/register [31m500 [0m244.512 ms - 193[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Error Object Error: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.
    at ValidationError.inspect [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/error/validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:809:19)[39m
[90m    at inspect (node:internal/util/inspect:368:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2307:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2169:10)[39m
[90m    at console.value (node:internal/console/constructor:331:14)[39m
[90m    at console.log (node:internal/console/constructor:376:61)[39m
    at errorHandler [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/middlewares/errorHandler.js:17:11[90m)[39m
    at Layer.handle_error [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/layer.js:71:5[90m)[39m
    at trim_prefix [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/index.js:315:13[90m)[39m {
  errors: {
    [32m'profile.phoneNumber'[39m: ValidatorError: Path `profile.phoneNumber` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.phoneNumber'[39m,
      value: [32m''[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    },
    [32m'profile.fullName'[39m: ValidatorError: Path `profile.fullName` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.fullName'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'User validation failed'[39m
}
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T16:08:30.203Z"}
[0mPOST /api/auth/register [31m500 [0m231.251 ms - 193[0m
Error Object Error: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.
    at ValidationError.inspect [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/error/validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:809:19)[39m
[90m    at inspect (node:internal/util/inspect:368:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2307:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2169:10)[39m
[90m    at console.value (node:internal/console/constructor:331:14)[39m
[90m    at console.log (node:internal/console/constructor:376:61)[39m
    at errorHandler [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/middlewares/errorHandler.js:17:11[90m)[39m
    at Layer.handle_error [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/layer.js:71:5[90m)[39m
    at trim_prefix [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/index.js:315:13[90m)[39m {
  errors: {
    [32m'profile.phoneNumber'[39m: ValidatorError: Path `profile.phoneNumber` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.phoneNumber'[39m,
      value: [32m''[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    },
    [32m'profile.fullName'[39m: ValidatorError: Path `profile.fullName` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.fullName'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'User validation failed'[39m
}
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T16:08:34.306Z"}
[0mPOST /api/auth/register [31m500 [0m130.129 ms - 193[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Error Object Error: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.
    at ValidationError.inspect [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/error/validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:809:19)[39m
[90m    at inspect (node:internal/util/inspect:368:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2307:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2169:10)[39m
[90m    at console.value (node:internal/console/constructor:331:14)[39m
[90m    at console.log (node:internal/console/constructor:376:61)[39m
    at errorHandler [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/middlewares/errorHandler.js:17:11[90m)[39m
    at Layer.handle_error [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/layer.js:71:5[90m)[39m
    at trim_prefix [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/index.js:315:13[90m)[39m {
  errors: {
    [32m'profile.phoneNumber'[39m: ValidatorError: Path `profile.phoneNumber` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.phoneNumber'[39m,
      value: [32m''[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    },
    [32m'profile.fullName'[39m: ValidatorError: Path `profile.fullName` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.fullName'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'User validation failed'[39m
}
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T16:09:37.928Z"}
[0mPOST /api/auth/register [31m500 [0m228.573 ms - 193[0m
Error Object Error: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.
    at ValidationError.inspect [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/error/validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:809:19)[39m
[90m    at inspect (node:internal/util/inspect:368:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2307:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2169:10)[39m
[90m    at console.value (node:internal/console/constructor:331:14)[39m
[90m    at console.log (node:internal/console/constructor:376:61)[39m
    at errorHandler [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/middlewares/errorHandler.js:17:11[90m)[39m
    at Layer.handle_error [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/layer.js:71:5[90m)[39m
    at trim_prefix [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/index.js:315:13[90m)[39m {
  errors: {
    [32m'profile.phoneNumber'[39m: ValidatorError: Path `profile.phoneNumber` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.phoneNumber'[39m,
      value: [32m''[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    },
    [32m'profile.fullName'[39m: ValidatorError: Path `profile.fullName` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.fullName'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'User validation failed'[39m
}
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T16:09:39.995Z"}
[0mPOST /api/auth/register [31m500 [0m129.705 ms - 193[0m
Error Object Error: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.
    at ValidationError.inspect [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/error/validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:809:19)[39m
[90m    at inspect (node:internal/util/inspect:368:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2307:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2169:10)[39m
[90m    at console.value (node:internal/console/constructor:331:14)[39m
[90m    at console.log (node:internal/console/constructor:376:61)[39m
    at errorHandler [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/middlewares/errorHandler.js:17:11[90m)[39m
    at Layer.handle_error [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/layer.js:71:5[90m)[39m
    at trim_prefix [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/index.js:315:13[90m)[39m {
  errors: {
    [32m'profile.phoneNumber'[39m: ValidatorError: Path `profile.phoneNumber` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.phoneNumber'[39m,
      value: [32m''[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    },
    [32m'profile.fullName'[39m: ValidatorError: Path `profile.fullName` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.fullName'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'User validation failed'[39m
}
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T16:09:41.882Z"}
[0mPOST /api/auth/register [31m500 [0m127.165 ms - 193[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Error Object Error: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.
    at ValidationError.inspect [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/error/validation.js:52:26[90m)[39m
[90m    at formatValue (node:internal/util/inspect:809:19)[39m
[90m    at inspect (node:internal/util/inspect:368:10)[39m
[90m    at formatWithOptionsInternal (node:internal/util/inspect:2307:40)[39m
[90m    at formatWithOptions (node:internal/util/inspect:2169:10)[39m
[90m    at console.value (node:internal/console/constructor:331:14)[39m
[90m    at console.log (node:internal/console/constructor:376:61)[39m
    at errorHandler [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/middlewares/errorHandler.js:17:11[90m)[39m
    at Layer.handle_error [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/layer.js:71:5[90m)[39m
    at trim_prefix [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mexpress[24m/lib/router/index.js:315:13[90m)[39m {
  errors: {
    [32m'profile.phoneNumber'[39m: ValidatorError: Path `profile.phoneNumber` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.phoneNumber'[39m,
      value: [32m''[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    },
    [32m'profile.fullName'[39m: ValidatorError: Path `profile.fullName` is required.
        at validate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1385:13[90m)[39m
        at SchemaType.doValidate [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/schemaType.js:1369:7[90m)[39m
        at [90m/home/ubuntu/24-02-WSD-Assignment-03/[39mnode_modules/[4mmongoose[24m/lib/document.js:3071:18
    [90m    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)[39m {
      properties: [36m[Object][39m,
      kind: [32m'required'[39m,
      path: [32m'profile.fullName'[39m,
      value: [90mundefined[39m,
      reason: [90mundefined[39m,
      [[32mSymbol(mongoose#validatorError)[39m]: [33mtrue[39m
    }
  },
  _message: [32m'User validation failed'[39m
}
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T16:11:14.043Z"}
[0mPOST /api/auth/register [31m500 [0m239.742 ms - 193[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T16:11:43.637Z"}
[0mPOST /api/auth/register [31m500 [0m225.613 ms - 193[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T16:16:43.444Z"}
[0mPOST /api/auth/register [31m500 [0m231.755 ms - 193[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
{"level":"error","message":"Cannot read properties of undefined (reading 'map')","route":"/api/auth/register","stack":"TypeError: Cannot read properties of undefined (reading 'map')\n    at exports.validateRegister (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:98:41)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:47:12)","timestamp":"2024-12-06T16:17:21.051Z"}
[0mPOST /api/auth/register [31m500 [0m90.247 ms - 104[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
validation error
{"code":"VALIDATION_ERROR","level":"error","message":"validation error","route":"/api/auth/register","stack":"Error: validation error\n    at exports.validateRegister (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:100:11)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:47:12)","timestamp":"2024-12-06T16:18:03.974Z"}
[0mPOST /api/auth/register [33m422 [0m80.385 ms - 73[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T16:18:33.805Z"}
[0mPOST /api/auth/register [31m500 [0m229.897 ms - 193[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
{"level":"error","message":"User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.","route":"/api/auth/register","stack":"ValidationError: User validation failed: profile.phoneNumber: Path `profile.phoneNumber` is required., profile.fullName: Path `profile.fullName` is required.\n    at Document.invalidate (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3318:32)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/document.js:3079:17\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schemaType.js:1388:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)","timestamp":"2024-12-06T16:25:25.598Z"}
[0mPOST /api/auth/register [31m500 [0m229.517 ms - 193[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
validation error
{"code":"VALIDATION_ERROR","level":"error","message":"validation error","route":"/api/auth/register","stack":"Error: validation error\n    at exports.validateRegister (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:100:11)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:47:12)","timestamp":"2024-12-06T16:34:07.408Z"}
[0mPOST /api/auth/register [33m422 [0m75.405 ms - 73[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
validation error
{"code":"VALIDATION_ERROR","level":"error","message":"\"profile\" is required","route":"/api/auth/register","stack":"Error: \"profile\" is required\n    at exports.validateRegister (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:100:11)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:47:12)","timestamp":"2024-12-06T16:34:30.749Z"}
[0mPOST /api/auth/register [33m422 [0m73.612 ms - 80[0m
[0mPOST /api/auth/register [32m201 [0m181.765 ms - 391[0m
{"level":"error","message":"Expected double-quoted property name in JSON at position 135 (line 9 column 3)","route":"/api/auth/register","stack":"SyntaxError: Expected double-quoted property name in JSON at position 135 (line 9 column 3)\n    at JSON.parse (<anonymous>)\n    at parse (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/body-parser/lib/types/json.js:89:19)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/body-parser/lib/read.js:121:18\n    at invokeCallback (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/raw-body/index.js:224:16)\n    at done (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2024-12-06T16:36:18.466Z"}
[0mPOST /api/auth/register [33m400 [0m6.092 ms - 131[0m
validation error
{"code":"VALIDATION_ERROR","level":"error","message":"\"profile.phoneNumber\" is required","route":"/api/auth/register","stack":"Error: \"profile.phoneNumber\" is required\n    at exports.validateRegister (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:100:11)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:281:22\n    at Function.process_params (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:47:12)","timestamp":"2024-12-06T16:36:28.784Z"}
[0mPOST /api/auth/register [33m422 [0m11.604 ms - 92[0m
{"level":"error","message":"Expected double-quoted property name in JSON at position 134 (line 8 column 3)","route":"/api/auth/register","stack":"SyntaxError: Expected double-quoted property name in JSON at position 134 (line 8 column 3)\n    at JSON.parse (<anonymous>)\n    at parse (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/body-parser/lib/types/json.js:89:19)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/body-parser/lib/read.js:121:18\n    at invokeCallback (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/raw-body/index.js:224:16)\n    at done (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/raw-body/index.js:213:7)\n    at IncomingMessage.onEnd (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/raw-body/index.js:273:7)\n    at IncomingMessage.emit (node:events:518:28)\n    at endReadableNT (node:internal/streams/readable:1698:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","timestamp":"2024-12-06T16:36:40.155Z"}
[0mPOST /api/auth/register [33m400 [0m2.664 ms - 131[0m
[0mGET /api/debug/user [32m200 [0m40.529 ms - 1295[0m
[0mGET /api/debug/token [36m304 [0m8.606 ms - -[0m
[0mPOST /api/auth/login [32m200 [0m164.671 ms - 242[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api/debug/token [32m200 [0m45.018 ms - 578[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1MDMyMjUsImV4cCI6MTczMzUwNDEyNX0.3Yw1kHRq9SbrDe4184dwJiWL9YfHu_WknbuFdVDoGVs
Redis result: [1mnull[22m
[0mPOST /api/debug/token [32m200 [0m18.654 ms - 437[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1MDMyMjUsImV4cCI6MTczMzUwNDEyNX0.3Yw1kHRq9SbrDe4184dwJiWL9YfHu_WknbuFdVDoGVs
Redis result: [1mnull[22m
Adding to blacklist: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1MDMyMjUsImV4cCI6MTczMzUwNDEyNX0.3Yw1kHRq9SbrDe4184dwJiWL9YfHu_WknbuFdVDoGVs [33m401[39m
[0mPOST /api/auth/logout [32m200 [0m54.289 ms - 56[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1MDMyMjUsImV4cCI6MTczMzUwNDEyNX0.3Yw1kHRq9SbrDe4184dwJiWL9YfHu_WknbuFdVDoGVs
Redis result: blacklisted
/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:56
      throw new AppError(error.code, error.message, 500);
            ^

AppError: Access token is invalid
    at authenticateToken [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/middlewares/authenticateToken.js:56:13[90m)[39m
[90m    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)[39m {
  code: [32m'TOKEN_BLACKLISTED'[39m,
  status: [33m500[39m
}

Node.js v22.11.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[A^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B^[[B[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1MDMyMjUsImV4cCI6MTczMzUwNDEyNX0.3Yw1kHRq9SbrDe4184dwJiWL9YfHu_WknbuFdVDoGVs
Redis result: blacklisted
{"code":"TOKEN_BLACKLISTED","level":"error","message":"Access token is invalid","route":"/api/debug/token","stack":"Error: Access token is invalid\n    at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:56:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2024-12-06T16:51:01.733Z"}
[0mPOST /api/debug/token [31m500 [0m35.777 ms - 81[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1MDMyMjUsImV4cCI6MTczMzUwNDEyNX0.3Yw1kHRq9SbrDe4184dwJiWL9YfHu_WknbuFdVDoGVs
Redis result: blacklisted
line 31
line 56
{"code":"TOKEN_BLACKLISTED","level":"error","message":"Access token is invalid","route":"/api/debug/token","stack":"Error: Access token is invalid\n    at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:57:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2024-12-06T16:52:52.344Z"}
[0mPOST /api/debug/token [31m500 [0m23.592 ms - 81[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1MDMyMjUsImV4cCI6MTczMzUwNDEyNX0.3Yw1kHRq9SbrDe4184dwJiWL9YfHu_WknbuFdVDoGVs
Redis result: [1mnull[22m
{"code":"EXPIRED_TOKEN","level":"error","message":"Token has expired.","route":"/api/debug/token","stack":"Error: Token has expired.\n    at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:44:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2024-12-06T16:56:54.188Z"}
[0mPOST /api/debug/token [33m403 [0m31.722 ms - 72[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1MDMyMjUsImV4cCI6MTczMzUwNDEyNX0.3Yw1kHRq9SbrDe4184dwJiWL9YfHu_WknbuFdVDoGVs
Redis result: [1mnull[22m
{"code":"EXPIRED_TOKEN","level":"error","message":"Token has expired.","route":"/api/debug/token","stack":"Error: Token has expired.\n    at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:44:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2024-12-06T16:58:28.572Z"}
[0mPOST /api/debug/token [33m403 [0m30.909 ms - 72[0m
[0mGET /api/debug/token [32m200 [0m39.573 ms - 30[0m
[0mPOST /api/auth/login [32m200 [0m175.528 ms - 242[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1MDMyMjUsImV4cCI6MTczMzUwNDEyNX0.3Yw1kHRq9SbrDe4184dwJiWL9YfHu_WknbuFdVDoGVs
Redis result: [1mnull[22m
{"code":"EXPIRED_TOKEN","level":"error","message":"Token has expired.","route":"/api/auth/logout","stack":"Error: Token has expired.\n    at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:44:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2024-12-06T17:02:27.807Z"}
[0mPOST /api/auth/logout [33m403 [0m9.558 ms - 72[0m
[0mGET /api/debug/token [32m200 [0m8.054 ms - 578[0m
Expiration time for blacklist: [33m1733505433[39m
Adding to blacklist: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1MDQ1MzMsImV4cCI6MTczMzUwNTQzM30.cw7_iQE8SyCMbxTvRbuRENAgMTdqPLUur-VVwyi4SlY [33m813[39m
[0mPOST /api/auth/refresh [32m200 [0m25.566 ms - 242[0m
[0mGET /api/debug/token [32m200 [0m8.676 ms - 578[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1MDQ1MzMsImV4cCI6MTczMzUwNTQzM30.cw7_iQE8SyCMbxTvRbuRENAgMTdqPLUur-VVwyi4SlY
Redis result: blacklisted
line 31
{"code":"TOKEN_BLACKLISTED","level":"error","message":"Access token is invalid","route":"/api/debug/token","stack":"Error: Access token is invalid\n    at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:56:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2024-12-06T17:04:13.892Z"}
[0mPOST /api/debug/token [31m500 [0m5.407 ms - 81[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1MDQ2MjAsImV4cCI6MTczMzUwNTUyMH0.j8ihMRGQexmLGeOkXMzRMJFXAQH65V9gVriU6cdTUok
Redis result: [1mnull[22m
[0mPOST /api/debug/token [32m200 [0m6.607 ms - 437[0m
[0mGET /api/debug/token [32m200 [0m8.165 ms - 578[0m
Client IP: ::ffff:61.81.179.227
[0mGET / [36m304 [0m315.551 ms - -[0m
[0mGET /stylesheets/style.css [33m404 [0m22.796 ms - 1338[0m
[0mGET /api-docs/ [36m304 [0m1.556 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m4.449 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m4.862 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m1.640 ms - 45883[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m1.224 ms - -[0m
[0mGET /api/jobs?page=1&size=20&sortBy=createdAt&sortOrder=desc [32m200 [0m70.479 ms - 14537[0m
[0mGET /api/csrf-token [32m200 [0m3.582 ms - 52[0m
[0mPOST /api/auth/login [32m200 [0m134.603 ms - 242[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1NDYyOTgsImV4cCI6MTczMzU0NzE5OH0.biBhrRkm4GaEoLTLEb0if_stylZCsaxdfyJKbE53RFk
Redis result: [1mnull[22m
[0mPOST /api/applications [32m201 [0m36.542 ms - 318[0m
[0mGET /api/debug/job [32m200 [0m102.074 ms - 155909[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1NDYyOTgsImV4cCI6MTczMzU0NzE5OH0.biBhrRkm4GaEoLTLEb0if_stylZCsaxdfyJKbE53RFk
Redis result: [1mnull[22m
[0mPOST /api/applications [32m201 [0m34.244 ms - 318[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZTRmYjZjZjQ1YTYwNWMwNDMxNSIsInJvbGUiOiJqb2JzZWVrZXIiLCJpYXQiOjE3MzM1NDYyOTgsImV4cCI6MTczMzU0NzE5OH0.biBhrRkm4GaEoLTLEb0if_stylZCsaxdfyJKbE53RFk
Redis result: [1mnull[22m
[0mGET /api/applications [32m200 [0m13.883 ms - 611[0m
[0mGET /api-docs/ [36m304 [0m2.814 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m2.954 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m3.035 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [36m304 [0m2.371 ms - -[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m4.272 ms - -[0m
[0mGET /api/csrf-token [32m200 [0m2.165 ms - 52[0m
[0mPOST /api/auth/login [32m200 [0m140.963 ms - 237[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU0NjU5NSwiZXhwIjoxNzMzNTQ3NDk1fQ.sf1UGBTD8w0W5cd2EafhBTKghxyI-uU8sgXGWELgRE4
Redis result: [1mnull[22m
[
  { _id: new ObjectId([32m'674e7990de126bae7c37a1e0'[39m) },
  { _id: new ObjectId([32m'674e7990de126bae7c37a250'[39m) }
]
[0mGET /api/applications [32m200 [0m23.932 ms - 320[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU0NjU5NSwiZXhwIjoxNzMzNTQ3NDk1fQ.sf1UGBTD8w0W5cd2EafhBTKghxyI-uU8sgXGWELgRE4
Redis result: [1mnull[22m
its admin
[
  { _id: new ObjectId([32m'674e7990de126bae7c37a1e0'[39m) },
  { _id: new ObjectId([32m'674e7990de126bae7c37a250'[39m) }
]
[0mGET /api/admin/jobs [32m200 [0m23.465 ms - 320[0m
[0mGET /api/debug/user [32m200 [0m7.971 ms - 1295[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m13.114 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m5.826 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m6.596 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m2.189 ms - 47536[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m1.932 ms - -[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m1.954 ms - -[0m
{"code":"EBADCSRFTOKEN","level":"error","message":"invalid csrf token","route":"/api/admin/applications%7Bid%7D","stack":"ForbiddenError: invalid csrf token\n    at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:317:13)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:284:7\n    at Function.process_params (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:335:12)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:275:10)\n    at Function.handle (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:174:3)\n    at router (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:47:12)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:317:13)","timestamp":"2024-12-07T05:22:01.212Z"}
[0mPUT /api/admin/applications%7Bid%7D [33m403 [0m31.225 ms - 72[0m
[0mGET /api/csrf-token [32m200 [0m4.073 ms - 52[0m
[0mPUT /api/admin/applications%7Bid%7D [33m404 [0m202.221 ms - 1338[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m13.399 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m6.615 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m7.852 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m4.795 ms - 47537[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m7.676 ms - -[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m2.209 ms - -[0m
[0mGET /api/csrf-token [32m200 [0m12.989 ms - 52[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Not all input has been taken into account at your final specification.
Here's the report: 


 Error in ./src/routes/api/admin.js :
YAMLSemanticError: Implicit map keys need to be on a single line at line 1, column 1:

/admin/applications/{id}:2
^^^^^^^^^^^^^^^^^^^^^^^^^^…

Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m12.956 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m5.245 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m5.353 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m2.619 ms - 45891[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m5.746 ms - -[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m1.847 ms - -[0m
[0mGET /api/csrf-token [32m200 [0m8.991 ms - 52[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m12.248 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m4.753 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m5.271 ms - -[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m2.434 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m3.175 ms - 47536[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m1.860 ms - -[0m
[0mGET /api/csrf-token [32m200 [0m6.650 ms - 52[0m
[0mPUT /api/admin/applications%7Bid%7D [33m404 [0m22.109 ms - 1321[0m
NotFoundError: Not Found
    at /home/ubuntu/24-02-WSD-Assignment-03/src/app.js:65:8
    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:317:13)
    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:335:12)
    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:275:10)
    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:91:12)
    at trim_prefix (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:317:13)
    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:335:12)
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mPUT /api/admin/applications%7Bid%7D [33m404 [0m14.979 ms - 169[0m
[0mGET /users [33m404 [0m5.156 ms - 144[0m
[0mGET /favicon.ico [33m404 [0m1.985 ms - 150[0m
[0mGET /1 [33m404 [0m2.623 ms - 140[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /1 [33m404 [0m4.643 ms - 1321[0m
NotFoundError: Not Found
    at /home/ubuntu/24-02-WSD-Assignment-03/src/app.js:65:8
    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:317:13)
    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:335:12)
    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:275:10)
    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:91:12)
    at trim_prefix (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:317:13)
    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:335:12)
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /1 [33m404 [0m106.205 ms - 1338[0m
[0mGET /stylesheets/style.css [33m404 [0m8.756 ms - 1338[0m
[0mPUT /api/admin/applications%7Bid%7D [33m404 [0m37.148 ms - 1338[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m12.784 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m3.647 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m2.685 ms - -[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m3.733 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m3.600 ms - 47537[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m2.642 ms - -[0m
[0mGET /api/csrf-token [32m200 [0m6.959 ms - 52[0m
{"code":"MISSING_TOKEN","level":"error","message":"Access Denied. Missing or invalid Authorization header.","route":"/api/admin/applications/%7Bid%7D","stack":"Error: Access Denied. Missing or invalid Authorization header.\n    at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:56:19)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:281:22\n    at param (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:275:10)","timestamp":"2024-12-07T05:32:22.798Z"}
[0mPUT /api/admin/applications/%7Bid%7D [31m500 [0m12.106 ms - 109[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mPUT /api/admin/applications/%7Bid%7D [31m500 [0m24.635 ms - 109[0m
^[[B[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
{"code":"MISSING_TOKEN","level":"error","message":"Access Denied. Missing or invalid Authorization header.","route":"/api/admin/applications/%7Bid%7D","stack":"Error: Access Denied. Missing or invalid Authorization header.\n    at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:56:19)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:137:13)\n    at Route.dispatch (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/layer.js:95:5)\n    at /home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:281:22\n    at param (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:354:14)\n    at param (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:365:14)\n    at Function.process_params (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:410:3)\n    at next (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/express/lib/router/index.js:275:10)","timestamp":"2024-12-07T05:38:12.025Z"}
[0mPUT /api/admin/applications/%7Bid%7D [31m500 [0m40.900 ms - 109[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T05:38:50.825Z] [ERROR] Code: MISSING_TOKEN, Message: Access Denied. Missing or invalid Authorization header., Route: /api/admin/applications/%7Bid%7D, Location:     at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:56:19)
[0mPUT /api/admin/applications/%7Bid%7D [31m500 [0m36.176 ms - 109[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T05:40:40.536Z] [ERROR] Code: MISSING_TOKEN, Message: Access Denied. Missing or invalid Authorization header., Route: /api/admin/applications/%7Bid%7D, Location:     at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:56:19)
[0mPUT /api/admin/applications/%7Bid%7D [31m500 [0m36.676 ms - 109[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mPOST /api/auth/login [32m200 [0m269.106 ms - 237[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MDEwNywiZXhwIjoxNzMzNTUxMDA3fQ.daG0I_YJ3aVN7JVc-i75Sf5BU4-lcXu5JHFI0p-Y9N0
Redis result: [1mnull[22m
its admin
[2024-12-07T05:42:03.150Z] [ERROR] Code: VALIDATION_ERROR, Message: "applicationId" is not allowed, Route: /api/admin/applications/%7Bid%7D, Location:     at exports.validateStatus (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:177:11)
[0mPUT /api/admin/applications/%7Bid%7D [33m422 [0m22.877 ms - 89[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MDEwNywiZXhwIjoxNzMzNTUxMDA3fQ.daG0I_YJ3aVN7JVc-i75Sf5BU4-lcXu5JHFI0p-Y9N0
Redis result: [1mnull[22m
its admin
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MDEwNywiZXhwIjoxNzMzNTUxMDA3fQ.daG0I_YJ3aVN7JVc-i75Sf5BU4-lcXu5JHFI0p-Y9N0
Redis result: [1mnull[22m
its admin
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MDEwNywiZXhwIjoxNzMzNTUxMDA3fQ.daG0I_YJ3aVN7JVc-i75Sf5BU4-lcXu5JHFI0p-Y9N0
Redis result: [1mnull[22m
its admin
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MDEwNywiZXhwIjoxNzMzNTUxMDA3fQ.daG0I_YJ3aVN7JVc-i75Sf5BU4-lcXu5JHFI0p-Y9N0
Redis result: [1mnull[22m
its admin
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MDEwNywiZXhwIjoxNzMzNTUxMDA3fQ.daG0I_YJ3aVN7JVc-i75Sf5BU4-lcXu5JHFI0p-Y9N0
Redis result: [1mnull[22m
its admin
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MDEwNywiZXhwIjoxNzMzNTUxMDA3fQ.daG0I_YJ3aVN7JVc-i75Sf5BU4-lcXu5JHFI0p-Y9N0
Redis result: [1mnull[22m
its admin
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MDEwNywiZXhwIjoxNzMzNTUxMDA3fQ.daG0I_YJ3aVN7JVc-i75Sf5BU4-lcXu5JHFI0p-Y9N0
Redis result: [1mnull[22m
its admin
[2024-12-07T05:50:37.357Z] [ERROR] Code: VALIDATION_ERROR, Message: "applicationId" failed custom validation because mongoose is not defined, Route: /api/admin/applications/%7Bid%7D, Location:     at exports.validateStatus (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:186:11)
[0mPUT /api/admin/applications/%7Bid%7D [33m422 [0m63.186 ms - 131[0m
[2024-12-07T05:52:04.270Z] [ERROR] Code: N/A, Message: Cast to ObjectId failed for value "]]" (type string) at path "_id" for model "Job", Route: /api/jobs/%5D%5D, Location:     at SchemaObjectId.cast (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schema/objectId.js:250:11)
[0mGET /api/jobs/%5D%5D [31m500 [0m17.280 ms - 141[0m
[2024-12-07T05:52:12.750Z] [ERROR] Code: N/A, Message: Cast to ObjectId failed for value "ㅣㅑㅏㅕㅚ" (type string) at path "_id" for model "Job", Route: /api/jobs/%E3%85%A3%E3%85%91%E3%85%8F%E3%85%95%E3%85%9A, Location:     at SchemaObjectId.cast (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schema/objectId.js:250:11)
[0mGET /api/jobs/%E3%85%A3%E3%85%91%E3%85%8F%E3%85%95%E3%85%9A [31m500 [0m6.290 ms - 154[0m
[2024-12-07T05:52:18.336Z] [ERROR] Code: N/A, Message: Cast to ObjectId failed for value "kuygiuy87" (type string) at path "_id" for model "Job", Route: /api/jobs/kuygiuy87, Location:     at SchemaObjectId.cast (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schema/objectId.js:250:11)
[0mGET /api/jobs/kuygiuy87 [31m500 [0m7.628 ms - 148[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T05:53:45.499Z] [ERROR] Code: SERVER_ERROR, Message: Cast to ObjectId failed for value "kuygiuy87" (type string) at path "_id" for model "Job", Route: /api/jobs/kuygiuy87, Location:     at exports.getJobDetails (/home/ubuntu/24-02-WSD-Assignment-03/src/services/job.service.js:125:11)
[0mGET /api/jobs/kuygiuy87 [31m500 [0m31.230 ms - 148[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T05:54:07.755Z] [ERROR] Code: NOT_FOUND, Message: Job not found., Route: /api/jobs/kuygiuy87, Location:     at exports.getJobDetails (/home/ubuntu/24-02-WSD-Assignment-03/src/services/job.service.js:125:11)
[0mGET /api/jobs/kuygiuy87 [33m404 [0m31.152 ms - 64[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T05:56:43.941Z] [ERROR] Code: NOT_FOUND, Message: Cast to ObjectId failed for value "kuygiuy87" (type string) at path "_id" for model "Job", Route: /api/jobs/kuygiuy87, Location:     at exports.getJobDetails (/home/ubuntu/24-02-WSD-Assignment-03/src/services/job.service.js:106:11)
[0mGET /api/jobs/kuygiuy87 [33m404 [0m33.170 ms - 145[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T05:57:08.383Z] [ERROR] Code: NOT_FOUND, Message: Job not found., Route: /api/jobs/kuygiuy87, Location:     at exports.getJobDetails (/home/ubuntu/24-02-WSD-Assignment-03/src/services/job.service.js:106:11)
[0mGET /api/jobs/kuygiuy87 [33m404 [0m28.645 ms - 64[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T06:00:08.036Z] [ERROR] Code: N/A, Message: Cast to ObjectId failed for value "kuygiuy87" (type string) at path "_id" for model "Job", Route: /api/jobs/kuygiuy87, Location:     at SchemaObjectId.cast (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/mongoose/lib/schema/objectId.js:250:11)
[0mGET /api/jobs/kuygiuy87 [31m500 [0m33.355 ms - 148[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T06:07:04.808Z] [ERROR] Code: N/A, Message: Cannot read properties of undefined (reading 'code'), Route: /api/jobs/kuygiuy87, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:180:55)
[0mGET /api/jobs/kuygiuy87 [31m500 [0m58.764 ms - 105[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T06:08:29.363Z] [ERROR] Code: N/A, Message: Cannot read properties of undefined (reading 'code'), Route: /api/jobs/kuygiuy87, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:186:49)
[0mGET /api/jobs/kuygiuy87 [31m500 [0m58.601 ms - 105[0m
[2024-12-07T06:08:36.036Z] [ERROR] Code: N/A, Message: Cannot read properties of undefined (reading 'code'), Route: /api/jobs/%E3%85%81%E3%84%B4%E3%85%87%E3%84%BB%E3%84%B4%E3%85%87%E3%84%BB%E3%84%B4%E3%85%87%E3%84%B9, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:186:49)
[0mGET /api/jobs/%E3%85%81%E3%84%B4%E3%85%87%E3%84%BB%E3%84%B4%E3%85%87%E3%84%BB%E3%84%B4%E3%85%87%E3%84%B9 [31m500 [0m6.903 ms - 105[0m
[2024-12-07T06:08:45.048Z] [ERROR] Code: N/A, Message: Cannot read properties of undefined (reading 'code'), Route: /api/jobs/asdfasdfasdf, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:186:49)
[0mGET /api/jobs/asdfasdfasdf [31m500 [0m6.969 ms - 105[0m
[2024-12-07T06:08:50.677Z] [ERROR] Code: N/A, Message: Cannot read properties of undefined (reading 'code'), Route: /api/jobs/asdfasdfasdf%20, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:186:49)
[0mGET /api/jobs/asdfasdfasdf%20 [31m500 [0m6.372 ms - 105[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api/jobs/ [32m200 [0m83.391 ms - 14537[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api/jobs/ [36m304 [0m69.412 ms - -[0m
[0mGET /api/jobs/ [36m304 [0m21.168 ms - -[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m9.834 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m4.934 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m5.120 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m2.616 ms - 47533[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m6.039 ms - -[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m1.860 ms - -[0m
[0mGET /api/jobs/ [36m304 [0m64.018 ms - -[0m
[0mGET /api/ [33m404 [0m197.263 ms - 1338[0m
[2024-12-07T06:11:32.585Z] [ERROR] Code: N/A, Message: Cannot read properties of undefined (reading 'code'), Route: /api/jobs/j08j, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:186:49)
[0mGET /api/jobs/j08j [31m500 [0m68.475 ms - 105[0m
[2024-12-07T06:12:33.393Z] [ERROR] Code: EBADCSRFTOKEN, Message: invalid csrf token, Route: /api/admin/applications/%7Bid%7D, Location:     at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)
[0mPUT /api/admin/applications/%7Bid%7D [33m403 [0m21.247 ms - 72[0m
[0mGET /api/csrf-token [32m200 [0m3.473 ms - 52[0m
[2024-12-07T06:13:00.875Z] [ERROR] Code: MISSING_TOKEN, Message: Access Denied. Missing or invalid Authorization header., Route: /api/admin/applications/%7Bid%7D, Location:     at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:56:19)
[0mPUT /api/admin/applications/%7Bid%7D [31m500 [0m5.623 ms - 109[0m
[2024-12-07T06:13:24.071Z] [ERROR] Code: N/A, Message: Cannot read properties of undefined (reading 'code'), Route: /api/jobs/asdasdasdfa, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:186:49)
[0mGET /api/jobs/asdasdasdfa [31m500 [0m8.270 ms - 105[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T06:15:07.316Z] [ERROR] Code: N/A, Message: mongoose is not defined, Route: /api/jobs/asdasdasdfa, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:166:3)
[0mGET /api/jobs/asdasdasdfa [31m500 [0m22.028 ms - 76[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api/jobs/asdasdasdfa [33m400 [0m16.304 ms - 90[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api/jobs/asdasdasdfa [33m400 [0m21.602 ms - 90[0m
[0mGET /api/jobs/asdasdas%20dfa%20 [33m400 [0m2.977 ms - 90[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api/jobs/asdasdas%20dfa%20 [33m400 [0m51.799 ms - 90[0m
[0mGET /api/jobs/asdas%E3%85%81%E3%84%B4das%20dfa%20 [33m400 [0m5.918 ms - 90[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T06:20:12.789Z] [ERROR] Code: N/A, Message: Cannot read properties of undefined (reading 'code'), Route: /api/jobs/asdas%E3%85%81%E3%84%B4das%20dfa%20, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:168:49)
[0mGET /api/jobs/asdas%E3%85%81%E3%84%B4das%20dfa%20 [31m500 [0m23.663 ms - 105[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T06:20:52.875Z] [ERROR] Code: N/A, Message: Cannot read properties of undefined (reading 'code'), Route: /api/jobs/asdas%E3%85%81%E3%84%B4das%20dfa%20, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:168:55)
[0mGET /api/jobs/asdas%E3%85%81%E3%84%B4das%20dfa%20 [31m500 [0m22.425 ms - 105[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T06:21:18.829Z] [ERROR] Code: N/A, Message: Cannot read properties of undefined (reading 'code'), Route: /api/jobs/asdas%E3%85%81%E3%84%B4das%20dfa%20, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:168:49)
[0mGET /api/jobs/asdas%E3%85%81%E3%84%B4das%20dfa%20 [31m500 [0m23.328 ms - 105[0m
[2024-12-07T06:21:29.813Z] [ERROR] Code: N/A, Message: Cannot read properties of undefined (reading 'code'), Route: /api/jobs/asdfasdf, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:168:49)
[0mGET /api/jobs/asdfasdf [31m500 [0m3.558 ms - 105[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T06:21:39.272Z] [ERROR] Code: N/A, Message: Cannot read properties of undefined (reading 'code'), Route: /api/jobs/asdfasdf, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:168:49)
[0mGET /api/jobs/asdfasdf [31m500 [0m21.824 ms - 105[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T06:23:03.690Z] [ERROR] Code: VALIDATION_ERROR, Message: Invalid Job ID format. It must be a valid MongoDB ObjectId., Route: /api/jobs/asdfasdf, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:168:11)
[0mGET /api/jobs/asdfasdf [33m422 [0m21.768 ms - 116[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T06:23:18.616Z] [ERROR] Code: VALIDATION_ERROR, Message: Invalid Job ID format. It must be a valid MongoDB ObjectId., Route: /api/jobs/asdfasdf, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:168:11)
[0mGET /api/jobs/asdfasdf [33m422 [0m32.160 ms - 116[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T06:24:09.260Z] [ERROR] Code: MISSING_TOKEN, Message: Access Denied. Missing or invalid Authorization header., Route: /api/applications/sdf, Location:     at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:56:19)
[0mDELETE /api/applications/sdf [31m500 [0m21.745 ms - 109[0m
[2024-12-07T06:24:18.581Z] [ERROR] Code: VALIDATION_ERROR, Message: Invalid Job ID format. It must be a valid MongoDB ObjectId., Route: /api/jobs/asdfasdf, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:168:11)
[0mGET /api/jobs/asdfasdf [33m422 [0m7.832 ms - 116[0m
[2024-12-07T06:24:50.235Z] [ERROR] Code: MISSING_TOKEN, Message: Access Denied. Missing or invalid Authorization header., Route: /api/admin/applications/%7Bid%7D, Location:     at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:56:19)
[0mPUT /api/admin/applications/%7Bid%7D [31m500 [0m29.935 ms - 109[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mPOST /api/auth/login [32m200 [0m258.134 ms - 237[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1Mjc2OCwiZXhwIjoxNzMzNTUzNjY4fQ.9BXPcRi3C-l_poJ-vzCTc1oHtJGZtpD97BSJ7sjjfhU
Redis result: [1mnull[22m
its admin
[2024-12-07T06:26:21.206Z] [ERROR] Code: VALIDATION_ERROR, Message: "applicationId" contains an invalid value, Route: /api/admin/applications/%7Bid%7D, Location:     at exports.validateStatus (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:195:11)
[0mPUT /api/admin/applications/%7Bid%7D [33m422 [0m28.939 ms - 100[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1Mjc2OCwiZXhwIjoxNzMzNTUzNjY4fQ.9BXPcRi3C-l_poJ-vzCTc1oHtJGZtpD97BSJ7sjjfhU
Redis result: [1mnull[22m
its admin
[
  { _id: new ObjectId([32m'674e7990de126bae7c37a1e0'[39m) },
  { _id: new ObjectId([32m'674e7990de126bae7c37a250'[39m) }
]
[0mGET /api/admin/applications [32m200 [0m40.805 ms - 320[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1Mjc2OCwiZXhwIjoxNzMzNTUzNjY4fQ.9BXPcRi3C-l_poJ-vzCTc1oHtJGZtpD97BSJ7sjjfhU
Redis result: [1mnull[22m
its admin
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1Mjc2OCwiZXhwIjoxNzMzNTUzNjY4fQ.9BXPcRi3C-l_poJ-vzCTc1oHtJGZtpD97BSJ7sjjfhU
Redis result: [1mnull[22m
its admin
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m4.366 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m2.048 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m2.103 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m1.277 ms - 47831[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m2.040 ms - -[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m2.677 ms - -[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m12.627 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m4.901 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m5.528 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m3.075 ms - 47680[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m5.223 ms - -[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m1.858 ms - -[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m15.808 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m5.980 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m7.970 ms - -[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m3.626 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m5.286 ms - 47754[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m1.991 ms - -[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m13.668 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m5.505 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m5.805 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m2.212 ms - 47523[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m1.635 ms - -[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m1.962 ms - -[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T06:39:24.087Z] [ERROR] Code: EBADCSRFTOKEN, Message: invalid csrf token, Route: /api/admin/applications/%E3%84%B4%E3%85%87%E3%84%B9?status=Rejected, Location:     at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)
[0mPUT /api/admin/applications/%E3%84%B4%E3%85%87%E3%84%B9?status=Rejected [33m403 [0m21.633 ms - 72[0m
[0mGET /api/csrf-token [32m200 [0m7.250 ms - 52[0m
[0mPOST /api/auth/login [32m200 [0m232.050 ms - 237[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MzU5MywiZXhwIjoxNzMzNTU0NDkzfQ.RYxguUltDoP6Uodyjor2b2Yx1F5DMGksPDLTRX336Y0
Redis result: [1mnull[22m
its admin
[
  { _id: new ObjectId([32m'674e7990de126bae7c37a1e0'[39m) },
  { _id: new ObjectId([32m'674e7990de126bae7c37a250'[39m) }
]
[0mGET /api/admin/applications [36m304 [0m36.529 ms - -[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MzU5MywiZXhwIjoxNzMzNTU0NDkzfQ.RYxguUltDoP6Uodyjor2b2Yx1F5DMGksPDLTRX336Y0
Redis result: [1mnull[22m
its admin
[2024-12-07T06:40:14.815Z] [ERROR] Code: VALIDATION_ERROR, Message: Invalid Job ID format. It must be a valid MongoDB ObjectId., Route: /api/admin/applications/%E3%84%B4%E3%85%87%E3%84%B9?status=Rejected, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:168:11)
[0mPUT /api/admin/applications/%E3%84%B4%E3%85%87%E3%84%B9?status=Rejected [33m422 [0m9.409 ms - 116[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MzU5MywiZXhwIjoxNzMzNTU0NDkzfQ.RYxguUltDoP6Uodyjor2b2Yx1F5DMGksPDLTRX336Y0
Redis result: [1mnull[22m
its admin
[0mPUT /api/admin/applications/6753d22ebfa617d0e259a3c3?status=Rejected [32m200 [0m13.886 ms - 64[0m
[0mGET /api/debug/application [32m200 [0m17.965 ms - 611[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MzU5MywiZXhwIjoxNzMzNTU0NDkzfQ.RYxguUltDoP6Uodyjor2b2Yx1F5DMGksPDLTRX336Y0
Redis result: [1mnull[22m
its admin
[2024-12-07T06:43:01.784Z] [ERROR] Code: SERVER_ERROR, Message: Application not found., Route: /api/admin/applications/6753d22ebfa617d0e259a3c3?status=Rejected, Location:     at exports.changeStatus (/home/ubuntu/24-02-WSD-Assignment-03/src/services/application.service.js:151:11)
[0mPUT /api/admin/applications/6753d22ebfa617d0e259a3c3?status=Rejected [31m500 [0m77.036 ms - 75[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MzU5MywiZXhwIjoxNzMzNTU0NDkzfQ.RYxguUltDoP6Uodyjor2b2Yx1F5DMGksPDLTRX336Y0
Redis result: [1mnull[22m
its admin
[0mPUT /api/admin/applications/6753d22ebfa617d0e259a3c4?status=Rejected [32m200 [0m43.273 ms - 319[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MzU5MywiZXhwIjoxNzMzNTU0NDkzfQ.RYxguUltDoP6Uodyjor2b2Yx1F5DMGksPDLTRX336Y0
Redis result: [1mnull[22m
its admin
[2024-12-07T06:43:54.161Z] [ERROR] Code: VALIDATION_ERROR, Message: Invalid Job ID format. It must be a valid MongoDB ObjectId., Route: /api/admin/applications/6753d22ebfa617d0e259a3c%E3%85%88?status=Rejected, Location:     at exports.validateID (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:168:11)
[0mPUT /api/admin/applications/6753d22ebfa617d0e259a3c%E3%85%88?status=Rejected [33m422 [0m11.597 ms - 116[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MzU5MywiZXhwIjoxNzMzNTU0NDkzfQ.RYxguUltDoP6Uodyjor2b2Yx1F5DMGksPDLTRX336Y0
Redis result: [1mnull[22m
its admin
[2024-12-07T06:43:59.020Z] [ERROR] Code: SERVER_ERROR, Message: Application not found., Route: /api/admin/applications/6753d22ebfa617d0e259a3c2?status=Rejected, Location:     at exports.changeStatus (/home/ubuntu/24-02-WSD-Assignment-03/src/services/application.service.js:151:11)
[0mPUT /api/admin/applications/6753d22ebfa617d0e259a3c2?status=Rejected [31m500 [0m17.413 ms - 75[0m
[0mGET /api/debug/application [32m200 [0m17.186 ms - 612[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MzU5MywiZXhwIjoxNzMzNTU0NDkzfQ.RYxguUltDoP6Uodyjor2b2Yx1F5DMGksPDLTRX336Y0
Redis result: [1mnull[22m
its admin
[0mPUT /api/admin/applications/6753d22ebfa617d0e259a3c4?status=Accepted [32m200 [0m21.662 ms - 319[0m
[0mGET /api/debug/application [32m200 [0m8.317 ms - 612[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MzU5MywiZXhwIjoxNzMzNTU0NDkzfQ.RYxguUltDoP6Uodyjor2b2Yx1F5DMGksPDLTRX336Y0
Redis result: [1mnull[22m
[2024-12-07T06:56:49.683Z] [ERROR] Code: EXPIRED_TOKEN, Message: Token has expired., Route: /api/admin/applications/6753d22ebfa617d0e259a3c4?status=Accepted, Location:     at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:44:19)
[0mPUT /api/admin/applications/6753d22ebfa617d0e259a3c4?status=Accepted [33m403 [0m42.898 ms - 72[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MzU5MywiZXhwIjoxNzMzNTU0NDkzfQ.RYxguUltDoP6Uodyjor2b2Yx1F5DMGksPDLTRX336Y0
Redis result: [1mnull[22m
[2024-12-07T06:57:05.646Z] [ERROR] Code: EXPIRED_TOKEN, Message: Token has expired., Route: /api/debug/token, Location:     at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:44:19)
[0mPOST /api/debug/token [33m403 [0m8.978 ms - 72[0m
Checking blacklist for token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NTMxZDQ3NzVkZDQ3ZWQxMDY5ZTJlZiIsInJvbGUiOiJhZG1pbiIsImlhdCI6MTczMzU1MzU5MywiZXhwIjoxNzMzNTU0NDkzfQ.RYxguUltDoP6Uodyjor2b2Yx1F5DMGksPDLTRX336Y0
Redis result: [1mnull[22m
[2024-12-07T07:04:11.809Z] [ERROR] Code: EXPIRED_TOKEN, Message: Token has expired., Route: /api/admin/applications/6753d22ebfa617d0e259a3c4?status=Accepted, Location:     at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:44:19)
[0mPUT /api/admin/applications/6753d22ebfa617d0e259a3c4?status=Accepted [33m403 [0m34.738 ms - 72[0m
^[[B^[[A^[[B^[[B^[[B^[[B^[[B^[[B[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
/home/ubuntu/24-02-WSD-Assignment-03/src/routes/api/admin.js:139
router.delete('/jobs/:id', authenticateToken, isAdmin, validateID, deleteJob);
                                                                   ^

ReferenceError: deleteJob is not defined
    at Object.<anonymous> [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/routes/api/admin.js:139:68[90m)[39m
[90m    at Module._compile (node:internal/modules/cjs/loader:1546:14)[39m
[90m    at Object..js (node:internal/modules/cjs/loader:1689:10)[39m
[90m    at Module.load (node:internal/modules/cjs/loader:1318:32)[39m
[90m    at Function._load (node:internal/modules/cjs/loader:1128:12)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:315:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:218:24)[39m
[90m    at Module.require (node:internal/modules/cjs/loader:1340:12)[39m
[90m    at require (node:internal/modules/helpers:141:16)[39m
    at Object.<anonymous> [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/routes/api.js:6:21[90m)[39m

Node.js v22.11.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
/home/ubuntu/24-02-WSD-Assignment-03/src/routes/api/admin.js:139
router.delete('/jobs/:id', authenticateToken, isAdmin, validateID, deleteJob);
                                                                   ^

ReferenceError: deleteJob is not defined
    at Object.<anonymous> [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/routes/api/admin.js:139:68[90m)[39m
[90m    at Module._compile (node:internal/modules/cjs/loader:1546:14)[39m
[90m    at Object..js (node:internal/modules/cjs/loader:1689:10)[39m
[90m    at Module.load (node:internal/modules/cjs/loader:1318:32)[39m
[90m    at Function._load (node:internal/modules/cjs/loader:1128:12)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:315:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:218:24)[39m
[90m    at Module.require (node:internal/modules/cjs/loader:1340:12)[39m
[90m    at require (node:internal/modules/helpers:141:16)[39m
    at Object.<anonymous> [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/routes/api.js:6:21[90m)[39m

Node.js v22.11.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
/home/ubuntu/24-02-WSD-Assignment-03/src/routes/api/admin.js:139
router.delete('/jobs/:id', authenticateToken, isAdmin, validateID, deleteJob);
                                                                   ^

ReferenceError: deleteJob is not defined
    at Object.<anonymous> [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/routes/api/admin.js:139:68[90m)[39m
[90m    at Module._compile (node:internal/modules/cjs/loader:1546:14)[39m
[90m    at Object..js (node:internal/modules/cjs/loader:1689:10)[39m
[90m    at Module.load (node:internal/modules/cjs/loader:1318:32)[39m
[90m    at Function._load (node:internal/modules/cjs/loader:1128:12)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:315:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:218:24)[39m
[90m    at Module.require (node:internal/modules/cjs/loader:1340:12)[39m
[90m    at require (node:internal/modules/helpers:141:16)[39m
    at Object.<anonymous> [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/routes/api.js:6:21[90m)[39m

Node.js v22.11.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
/home/ubuntu/24-02-WSD-Assignment-03/src/routes/api/admin.js:139
router.delete('/jobs/:id', authenticateToken, isAdmin, validateID, deleteJob);
                                                                   ^

ReferenceError: deleteJob is not defined
    at Object.<anonymous> [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/routes/api/admin.js:139:68[90m)[39m
[90m    at Module._compile (node:internal/modules/cjs/loader:1546:14)[39m
[90m    at Object..js (node:internal/modules/cjs/loader:1689:10)[39m
[90m    at Module.load (node:internal/modules/cjs/loader:1318:32)[39m
[90m    at Function._load (node:internal/modules/cjs/loader:1128:12)[39m
[90m    at TracingChannel.traceSync (node:diagnostics_channel:315:14)[39m
[90m    at wrapModuleLoad (node:internal/modules/cjs/loader:218:24)[39m
[90m    at Module.require (node:internal/modules/cjs/loader:1340:12)[39m
[90m    at require (node:internal/modules/helpers:141:16)[39m
    at Object.<anonymous> [90m(/home/ubuntu/24-02-WSD-Assignment-03/[39msrc/routes/api.js:6:21[90m)[39m

Node.js v22.11.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
^[[A^[[B^[[B^[[B^Cshutting down...
Server closed

[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ [Kubuntu@3333:~/24-02-WSD-Assignment-03$ [Kubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ [Kubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ ^C[?2004l[?2004h[?2004l
[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ [Kubuntu@3333:~/24-02-WSD-Assignment-03$ clear
[?2004l[H[J[3J[?2004hubuntu@3333:~/24-02-WSD-Assignment-03$ clearnpm run dev
[?2004l
> wsd@0.0.0 dev
> nodemon ./bin/www

[1G[0K[33m[nodemon] 3.1.7[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m13.463 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m5.363 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m5.301 ms - -[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m2.894 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m3.712 ms - 50129[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m2.161 ms - -[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m13.701 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m4.932 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m5.498 ms - -[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m2.776 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m3.642 ms - 50132[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m1.655 ms - -[0m
[0mGET /api/debug/job [36m304 [0m135.744 ms - -[0m
[0mGET /api/debug/user [36m304 [0m11.013 ms - -[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m15.069 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m5.648 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m6.523 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [36m304 [0m1.786 ms - -[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m1.687 ms - -[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m2.281 ms - -[0m
[2024-12-07T07:26:57.459Z] [ERROR] Code: EBADCSRFTOKEN, Message: invalid csrf token, Route: /api/admin/applications/-09%E3%85%91?status=Accepted, Location:     at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)
[0mPUT /api/admin/applications/-09%E3%85%91?status=Accepted [33m403 [0m14.587 ms - 72[0m
[0mGET /api/csrf-token [32m200 [0m4.763 ms - 52[0m
[2024-12-07T07:27:52.816Z] [ERROR] Code: MISSING_TOKEN, Message: Access Denied. Missing or invalid Authorization header., Route: /api/applications, Location:     at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:56:19)
[0mGET /api/applications [31m500 [0m9.278 ms - 109[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T07:28:51.904Z] [ERROR] Code: EBADCSRFTOKEN, Message: invalid csrf token, Route: /api/auth/login, Location:     at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)
[0mPOST /api/auth/login [33m403 [0m44.193 ms - 72[0m
[0mGET /api/csrf-token [32m200 [0m14.675 ms - 52[0m
[2024-12-07T07:29:00.710Z] [ERROR] Code: EBADCSRFTOKEN, Message: invalid csrf token, Route: /api/auth/login, Location:     at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)
[0mPOST /api/auth/login [33m403 [0m4.960 ms - 72[0m
[2024-12-07T07:29:06.113Z] [ERROR] Code: MISSING_TOKEN, Message: Access Denied. Missing or invalid Authorization header., Route: /api/applications, Location:     at authenticateToken (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/authenticateToken.js:56:19)
[0mGET /api/applications [31m500 [0m4.658 ms - 109[0m
[2024-12-07T07:29:39.541Z] [ERROR] Code: EBADCSRFTOKEN, Message: invalid csrf token, Route: /api/applications, Location:     at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)
[0mPOST /api/applications [33m403 [0m4.437 ms - 72[0m
[0mGET /api/jobs?page=1&size=20&sortBy=createdAt&sortOrder=desc [36m304 [0m66.366 ms - -[0m
[2024-12-07T07:31:54.428Z] [ERROR] Code: EBADCSRFTOKEN, Message: invalid csrf token, Route: /api/auth/refresh, Location:     at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)
[0mPOST /api/auth/refresh [33m403 [0m3.524 ms - 72[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
[32m[nodemon] restarting due to changes...[39m
Redis Connected...
[32m[nodemon] starting `node ./bin/www`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m11.278 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m2.808 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m1.910 ms - -[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m1.843 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m1.948 ms - 50013[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m1.682 ms - -[0m
[0mGET /api-docs/ [32m200 [0m2.401 ms - 3106[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m3.591 ms - 50013[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [32m200 [0m12.321 ms - 230007[0m
[0mGET /api-docs/swagger-ui.css [32m200 [0m11.086 ms - 152072[0m
[0mGET /api-docs/swagger-ui-bundle.js [32m200 [0m12.860 ms - 1426050[0m
[0mGET /api-docs/favicon-32x32.png [32m200 [0m5.451 ms - 628[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m13.139 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m5.421 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m5.382 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [36m304 [0m2.191 ms - -[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m4.585 ms - -[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m1.941 ms - -[0m
[2024-12-07T07:40:39.938Z] [ERROR] Code: EBADCSRFTOKEN, Message: invalid csrf token, Route: /api/auth/login, Location:     at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)
[0mPOST /api/auth/login [33m403 [0m28.374 ms - 72[0m
[0mGET /api/csrf-token [32m200 [0m4.409 ms - 52[0m
[2024-12-07T07:40:56.664Z] [ERROR] Code: VALIDATION_ERROR, Message: Password is required,"password" is not allowed, Route: /api/auth/login, Location:     at exports.validateLogin (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:128:11)
[0mPOST /api/auth/login [33m422 [0m64.227 ms - 105[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T07:41:33.995Z] [ERROR] Code: SERVER_ERROR, Message: data and hash arguments required, Route: /api/auth/login, Location:     at exports.login (/home/ubuntu/24-02-WSD-Assignment-03/src/services/auth.service.js:135:11)
[0mPOST /api/auth/login [31m500 [0m87.530 ms - 85[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T07:42:08.768Z] [ERROR] Code: N/A, Message: data and hash arguments required, Route: /api/auth/login, Location:     at Object.compare (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/bcrypt/bcrypt.js:208:17)
[0mPOST /api/auth/login [31m500 [0m80.675 ms - 85[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T07:43:01.620Z] [ERROR] Code: N/A, Message: data and hash arguments required, Route: /api/auth/login, Location:     at Object.compare (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/bcrypt/bcrypt.js:208:17)
[0mPOST /api/auth/login [31m500 [0m81.758 ms - 85[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mPOST /api/auth/login [32m200 [0m230.747 ms - 242[0m
[0mPOST /api/auth/login [32m200 [0m140.366 ms - 242[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [32m200 [0m4.608 ms - 3106[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m1.029 ms - 50013[0m
[0mGET /api-docs/swagger-ui.css [32m200 [0m3.465 ms - 152072[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [32m200 [0m3.513 ms - 230007[0m
[0mGET /api-docs/swagger-ui-bundle.js [32m200 [0m3.390 ms - 1426050[0m
[0mGET /api-docs/favicon-32x32.png [32m200 [0m2.899 ms - 628[0m
[2024-12-07T07:43:56.678Z] [ERROR] Code: EBADCSRFTOKEN, Message: invalid csrf token, Route: /api/auth/login, Location:     at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)
[0mPOST /api/auth/login [33m403 [0m32.268 ms - 72[0m
[0mGET /api/csrf-token [32m200 [0m3.973 ms - 52[0m
[0mGET /api/csrf-token [32m200 [0m3.411 ms - 52[0m
[0mPOST /api/auth/login [32m200 [0m167.416 ms - 242[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[2024-12-07T07:46:37.354Z] [ERROR] Code: VALIDATION_ERROR, Message: Password is required,"passwordHash" is not allowed, Route: /api/auth/register, Location:     at exports.validateRegister (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:100:11)
[0mPOST /api/auth/register [33m422 [0m90.538 ms - 109[0m
[0mGET /api-docs/ [36m304 [0m6.668 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m4.681 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m4.561 ms - -[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m2.594 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m3.374 ms - 50005[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m2.059 ms - -[0m
[2024-12-07T07:46:48.755Z] [ERROR] Code: EBADCSRFTOKEN, Message: invalid csrf token, Route: /api/auth/register, Location:     at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)
[0mPOST /api/auth/register [33m403 [0m4.682 ms - 72[0m
[0mGET /api/csrf-token [32m200 [0m4.195 ms - 52[0m
[2024-12-07T07:48:50.349Z] [ERROR] Code: EBADCSRFTOKEN, Message: invalid csrf token, Route: /api/auth/register, Location:     at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)
[0mPOST /api/auth/register [33m403 [0m11.654 ms - 72[0m
[2024-12-07T07:49:06.768Z] [ERROR] Code: SERVER_ERROR, Message: User validation failed: companyId: Cast to ObjectId failed for value "Unknown Type: objectId" (type string) at path "companyId" because of "BSONError", Route: /api/auth/register, Location:     at exports.register (/home/ubuntu/24-02-WSD-Assignment-03/src/services/auth.service.js:64:11)
[0mPOST /api/auth/register [31m500 [0m208.366 ms - 209[0m
[0mPOST /api/auth/register [32m201 [0m144.671 ms - 481[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node ./bin/www`[39m
Redis Connected...
MongoDB Connected... [ { user: [32m'kgh'[39m, db: [32m'wsd'[39m } ]
[0mGET /api-docs/ [36m304 [0m13.616 ms - -[0m
[0mGET /api-docs/swagger-ui-bundle.js [36m304 [0m5.853 ms - -[0m
[0mGET /api-docs/swagger-ui.css [36m304 [0m6.189 ms - -[0m
[0mGET /api-docs/swagger-ui-standalone-preset.js [36m304 [0m2.966 ms - -[0m
[0mGET /api-docs/swagger-ui-init.js [32m200 [0m4.159 ms - 50042[0m
[0mGET /api-docs/favicon-32x32.png [36m304 [0m1.889 ms - -[0m
[2024-12-07T07:50:19.226Z] [ERROR] Code: EBADCSRFTOKEN, Message: invalid csrf token, Route: /api/auth/register, Location:     at csrf (/home/ubuntu/24-02-WSD-Assignment-03/node_modules/csurf/index.js:112:19)
[0mPOST /api/auth/register [33m403 [0m29.302 ms - 72[0m
[0mGET /api/csrf-token [32m200 [0m3.698 ms - 52[0m
[2024-12-07T07:50:34.726Z] [ERROR] Code: VALIDATION_ERROR, Message: Company ID is required for admin role, Route: /api/auth/register, Location:     at exports.validateRegister (/home/ubuntu/24-02-WSD-Assignment-03/src/middlewares/validators.js:100:11)
[0mPOST /api/auth/register [33m422 [0m85.148 ms - 94[0m
[0mGET /api/debug/user [32m200 [0m36.654 ms - 1749[0m
